# backend/Dockerfile

# Wir nutzen ein leichtes Node-Image als Basis
FROM node:18-alpine

# Arbeitsverzeichnis im Container erstellen
WORKDIR /app

# Zuerst nur die Abh채ngigkeits-Definitionen kopieren (f체r besseres Caching)
COPY package*.json ./

# Abh채ngigkeiten installieren
RUN npm install

# Jetzt den restlichen Quellcode kopieren
COPY . .

# Die NestJS-App bauen (erstellt den 'dist' Ordner)
RUN npm run build

# Port 3000 freigeben
EXPOSE 3000

# Start-Befehl f체r die Produktion
CMD ["npm", "run", "start:prod"]